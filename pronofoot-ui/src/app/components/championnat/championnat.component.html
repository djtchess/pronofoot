<!-- championnat.component.html -->

<!-- Affiche la banniÃ¨re du championnat --------------------------->
<!-- On garde l'async pipe pour rÃ©cupÃ©rer le Championnat -->
<div class="championnat-banner"
     *ngIf="championnat$ | async as championnat">

  <!-- â–¸ Infos principales -->
  <div class="championnat-info">
    <h2>{{ championnat.nom }}</h2>
    <p class="championnat-pays">Pays&nbsp;: {{ championnat.pays }}</p>
  </div>


<select class="season-select"
        [(ngModel)]="selectedSeason"
        (ngModelChange)="onSeasonChange()"
        name="saison">
  <option *ngFor="let s of saisons" [ngValue]="s">
    {{ s.year }}
  </option>
</select>

  <!-- â–¸ Saison sÃ©lectionnÃ©e -->
  <!-- ðŸ†•  safe-navigation pour Ã©viter lâ€™erreur avant init -->
  <h2 class="h5">Saison&nbsp;: {{ selectedSeason.year }}</h2>

  <!-- â–¸ Actions --------------------------------------------------->
  <div class="actions">

    <!-- ðŸ†•  liens relatifs : on passe lâ€™annÃ©e de la saison choisie -->
    <a class="btn btn-primary"
       [routerLink]="['equipes']">
       Voir les Ã©quipes
    </a>

    <a class="btn btn-secondary"
       [routerLink]="['journees', selectedSeason.year]">
       Calendrier&nbsp;/ JournÃ©es
    </a>

    <button type="button"
            class="btn btn-outline"
            aria-label="Synchroniser les donnÃ©es"
            (click)="onSync()">
      ðŸ”„ Synchroniser
    </button>
  </div>
</div>

<!-- Corps : classement Ã  gauche, vue enfant Ã  droite ------------->
<div class="championnat-body" *ngIf="selectedSeason">

  <!-- ðŸ†•  on transmet lâ€™id numÃ©rique de la saison sÃ©lectionnÃ©e -->
  <app-classement
      class="classement-pane"
      [code]="code"
      [seasonId]="selectedSeason.id">
  </app-classement>

  <router-outlet class="detail-pane"></router-outlet>
</div>
